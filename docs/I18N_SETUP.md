# –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

## ‚úÖ –ß—Ç–æ —Å–æ–∑–¥–∞–Ω–æ

1. **Language Store** (`src/lib/stores/language.ts`)
   - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è i18n
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏–º —è–∑—ã–∫–æ–º
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage
   - –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞ –±—Ä–∞—É–∑–µ—Ä–∞
   - –ó–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤

2. **LanguageSwitcher Component** (`src/lib/components/layout/LanguageSwitcher.svelte`)
   - Dropdown —Å —Ñ–ª–∞–≥–∞–º–∏ –∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ —è–∑—ã–∫–æ–≤
   - –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è (—Ç–æ–ª—å–∫–æ —Ñ–ª–∞–≥–∏ –Ω–∞ <640px)
   - –ö–ª–∞–≤–∏–∞—Ç—É—Ä–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è (Escape)
   - Click outside –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è
   - Accessibility (ARIA labels)

3. **Header Component** (`src/lib/components/layout/Header.svelte`)
   - –ù–∞–≤–∏–≥–∞—Ü–∏—è —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π LanguageSwitcher
   - –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –º–µ–Ω—é (–±—É—Ä–≥–µ—Ä –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö)
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∞–¥–º–∏–Ω-–ø—Ä–∞–≤

4. **–ü–µ—Ä–µ–≤–æ–¥—ã** (`static/translations/`)
   - `de.json` - –ù–µ–º–µ—Ü–∫–∏–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
   - `en.json` - –ê–Ω–≥–ª–∏–π—Å–∫–∏–π
   - `ru.json` - –†—É—Å—Å–∫–∏–π
   - `uk.json` - –£–∫—Ä–∞–∏–Ω—Å–∫–∏–π

5. **–£—Ç–∏–ª–∏—Ç—ã**
   - `src/lib/utils/clickOutside.ts` - Svelte action –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è dropdown
   - –¢–µ—Å—Ç—ã –¥–ª—è language store

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install
```

### 2. –ó–∞–ø—É—Å–∫ dev —Å–µ—Ä–≤–µ—Ä–∞

```bash
npm run dev
```

–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –Ω–∞ `http://localhost:5173`

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã
npm test

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã –≤ watch —Ä–µ–∂–∏–º–µ
npm run test:watch

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã —Å UI
npm run test:ui
```

## üìñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö Svelte

```svelte
<script lang="ts">
	import { _ } from 'svelte-i18n';
</script>

<h1>{$_('common.welcome')}</h1>
<button>{$_('common.login')}</button>
```

### –° –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

```svelte
<p>{$_('events.spotsLeft', { values: { count: 5 } })}</p>
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ LanguageSwitcher

```svelte
<script lang="ts">
	import LanguageSwitcher from '$lib/components/layout/LanguageSwitcher.svelte';
</script>

<LanguageSwitcher />
```

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —è–∑—ã–∫–∞

```svelte
<script lang="ts">
	import { changeLanguage } from '$lib/stores/language';

	async function switchLanguage(lang: 'de' | 'en' | 'ru' | 'uk') {
		await changeLanguage(lang);
	}
</script>

<button onclick={() => switchLanguage('de')}>Deutsch</button>
```

## üåç –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —è–∑—ã–∫–∏

| –ö–æ–¥ | –Ø–∑—ã–∫       | –ù–∞–∑–≤–∞–Ω–∏–µ   | –§–ª–∞–≥ |
| --- | ---------- | ---------- | ---- |
| de  | Deutsch    | –ù–µ–º–µ—Ü–∫–∏–π   | üá©üá™   |
| en  | English    | –ê–Ω–≥–ª–∏–π—Å–∫–∏–π | üá¨üáß   |
| ru  | –†—É—Å—Å–∫–∏–π    | –†—É—Å—Å–∫–∏–π    | üá∑üá∫   |
| uk  | –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ | –£–∫—Ä–∞–∏–Ω—Å–∫–∏–π | üá∫üá¶   |

## üì± –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è

LanguageSwitcher –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è:

- **< 640px**: —Ç–æ–ª—å–∫–æ —Ñ–ª–∞–≥–∏ –≤ –∫–Ω–æ–ø–∫–µ
- **‚â• 640px**: —Ñ–ª–∞–≥–∏ + –Ω–∞–∑–≤–∞–Ω–∏—è
- **Dropdown**: –≤—Å–µ–≥–¥–∞ –ø–æ–ª–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è

## ‚ôø Accessibility

- –í—Å–µ –∫–Ω–æ–ø–∫–∏ –∏–º–µ—é—Ç `aria-label`
- Dropdown —Å `role="menu"` –∏ `role="menuitem"`
- –ö–ª–∞–≤–∏–∞—Ç—É—Ä–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è (Tab, Escape)
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞ 44px –¥–ª—è touch

## üé® –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç:

- Utility-first –ø–æ–¥—Ö–æ–¥ —Å inline —Å—Ç–∏–ª—è–º–∏
- Tailwind-–ø–æ–¥–æ–±–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —Ü–≤–µ—Ç–æ–≤ –∏ –æ—Ç—Å—Ç—É–ø–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ dark mode (—á–µ—Ä–µ–∑ media query)
- –ü–ª–∞–≤–Ω—ã–µ transitions

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —è–∑—ã–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

–í `src/lib/stores/language.ts`:

```typescript
const DEFAULT_LANGUAGE: LanguageCode = 'de'; // –ò–∑–º–µ–Ω–∏—Ç–µ –Ω–∞ –Ω—É–∂–Ω—ã–π
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —è–∑—ã–∫–∞

1. –°–æ–∑–¥–∞–π—Ç–µ `static/translations/[code].json`
2. –î–æ–±–∞–≤—å—Ç–µ –≤ `SUPPORTED_LANGUAGES`:

```typescript
export const SUPPORTED_LANGUAGES = {
	// ...existing languages
	fr: { code: 'fr', name: 'French', flag: 'üá´üá∑', nativeName: 'Fran√ßais' },
} as const;
```

3. –û–±–Ω–æ–≤–∏—Ç–µ —Ç–∏–ø:

```typescript
export type LanguageCode = keyof typeof SUPPORTED_LANGUAGES;
```

## üêõ Troubleshooting

### –ü–µ—Ä–µ–≤–æ–¥—ã –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. –§–∞–π–ª—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ `static/translations/`
2. JSON –≤–∞–ª–∏–¥–µ–Ω
3. –ü—É—Ç—å –∫ –ø–µ—Ä–µ–≤–æ–¥–∞–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π (`/translations/${lang}.json`)

### localStorage –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

- localStorage —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- –í SSR (server-side) localStorage –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
- Store –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —ç—Ç–æ —á–µ—Ä–µ–∑ `browser` flag

### –ü–µ—Ä–µ–≤–æ–¥—ã –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è

1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ dev —Å–µ—Ä–≤–µ—Ä
2. –û—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Network tab –≤ DevTools

## üìù –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤

```json
{
  "common": { ... },      // –û–±—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã UI
  "form": { ... },        // –ü–æ–ª—è —Ñ–æ—Ä–º
  "validation": { ... },  // –í–∞–ª–∏–¥–∞—Ü–∏—è
  "auth": { ... },        // –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
  "events": { ... },      // –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è
  "profile": { ... },     // –ü—Ä–æ—Ñ–∏–ª—å
  "gdpr": { ... },        // GDPR
  "email": { ... },       // Email —à–∞–±–ª–æ–Ω—ã
  "admin": { ... },       // –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
  "errors": { ... },      // –û—à–∏–±–∫–∏
  "nav": { ... }          // –ù–∞–≤–∏–≥–∞—Ü–∏—è
}
```

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
2. ‚è≠Ô∏è –°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (D1)
3. ‚è≠Ô∏è –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
4. ‚è≠Ô∏è –°–æ–∑–¥–∞—Ç—å API endpoints
5. ‚è≠Ô∏è –°–æ–∑–¥–∞—Ç—å UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [svelte-i18n](https://github.com/kaisermann/svelte-i18n)
- [Svelte 5 Documentation](https://svelte.dev/docs/svelte/overview)
- [SvelteKit Documentation](https://kit.svelte.dev/docs)

## üí° Tips

1. **–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–≤–æ–¥—ã**, –¥–∞–∂–µ –¥–ª—è –æ–¥–Ω–æ–≥–æ —è–∑—ã–∫–∞
2. **–ì—Ä—É–ø–ø–∏—Ä—É–π—Ç–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã** –ø–æ —Å–º—ã—Å–ª—É
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã** –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
4. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ –≤—Å–µ—Ö —è–∑—ã–∫–∞—Ö** –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º
5. **Fallback –Ω–∞ –Ω–µ–º–µ—Ü–∫–∏–π** —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
