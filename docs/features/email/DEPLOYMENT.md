# üìß Email Deployment Guide: DNS Configuration (SPF/DKIM/DMARC)

**–¶–µ–ª—å:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å DNS-–∑–∞–ø–∏—Å–∏ –¥–æ–º–µ–Ω–∞ `kolibri-dresden.de` –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ email —á–µ—Ä–µ–∑ MailChannels, —á—Ç–æ–±—ã –ø–∏—Å—å–º–∞ –Ω–µ –ø–æ–ø–∞–¥–∞–ª–∏ –≤ —Å–ø–∞–º.

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–æ—á—Ç—ã

–ï—Å–ª–∏ –¥–æ–º–µ–Ω `kolibri-dresden.de` —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–æ—á—Ç—ã (`info@kolibri-dresden.de`):

- ‚úÖ **DKIM:** –ë–µ–∑–æ–ø–∞—Å–Ω–æ ‚Äî —Å–æ–∑–¥–∞—ë—Ç–µ –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å —Å —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–º `mailchannels._domainkey` (–Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ)
- ‚ö†Ô∏è **SPF:** –¢—Ä–µ–±—É–µ—Ç –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç–∏ ‚Äî **–î–û–ü–û–õ–ù–Ø–ï–¢–ï** —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∑–∞–ø–∏—Å—å, **–ù–ï —Å–æ–∑–¥–∞—ë—Ç–µ –Ω–æ–≤—É—é**
- ‚úÖ **DMARC:** –ë–µ–∑–æ–ø–∞—Å–Ω–æ –µ—Å–ª–∏ –ø–æ–ª–∏—Ç–∏–∫–∞ `p=none` (—Ç–æ–ª—å–∫–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥)

**–°–º. –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏:** [–†–∞–±–æ—Ç–∞ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–æ—á—Ç–æ–π](#—Ä–∞–±–æ—Ç–∞-—Å-—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π-–∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–π-–ø–æ—á—Ç–æ–π) –≤ —Ä–∞–∑–¥–µ–ª–µ Troubleshooting.

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û–±–∑–æ—Ä](#–æ–±–∑–æ—Ä)
2. [–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è](#–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
3. [–®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SPF](#—à–∞–≥-1-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-spf)
4. [–®–∞–≥ 2: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ DKIM](#—à–∞–≥-2-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è-–∏-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-dkim)
5. [–®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DMARC](#—à–∞–≥-3-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-dmarc)
6. [–®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ DNS –∑–∞–ø–∏—Å–µ–π](#—à–∞–≥-4-–ø—Ä–æ–≤–µ—Ä–∫–∞-dns-–∑–∞–ø–∏—Å–µ–π)
7. [–®–∞–≥ 5: –¢–µ—Å—Ç–æ–≤–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ email](#—à–∞–≥-5-—Ç–µ—Å—Ç–æ–≤–∞—è-–æ—Ç–ø—Ä–∞–≤–∫–∞-email)
8. [–ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º](#—á–µ–∫-–ª–∏—Å—Ç-–ø–µ—Ä–µ–¥-—Ä–µ–ª–∏–∑–æ–º)
9. [Troubleshooting](#troubleshooting)
   - [–†–∞–±–æ—Ç–∞ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–æ—á—Ç–æ–π](#—Ä–∞–±–æ—Ç–∞-—Å-—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π-–∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–π-–ø–æ—á—Ç–æ–π)

---

## –û–±–∑–æ—Ä

–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã email –æ—Ç `Berufsorientierung@kolibri-dresden.de` –ø—Ä–æ—Ö–æ–¥–∏–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ—á—Ç–æ–≤—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ (Gmail, Outlook, –∏ —Ç.–¥.) –∏ –Ω–µ –ø–æ–ø–∞–¥–∞–ª–∏ –≤ —Å–ø–∞–º, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ç—Ä–∏ –∫–ª—é—á–µ–≤—ã—Ö DNS-–∑–∞–ø–∏—Å–∏:

- **SPF** (Sender Policy Framework) - —É–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞–∫–∏–µ —Å–µ—Ä–≤–µ—Ä—ã –º–æ–≥—É—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ—á—Ç—É –æ—Ç –∏–º–µ–Ω–∏ –¥–æ–º–µ–Ω–∞
- **DKIM** (DomainKeys Identified Mail) - –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è –ø–æ–¥–ø–∏—Å—å –ø–∏—Å–µ–º –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç–∏
- **DMARC** (Domain-based Message Authentication) - –ø–æ–ª–∏—Ç–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–∏—Å–µ–º, –Ω–µ –ø—Ä–æ—à–µ–¥—à–∏—Ö –ø—Ä–æ–≤–µ—Ä–∫—É SPF/DKIM

---

## –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. **–î–æ—Å—Ç—É–ø –∫ DNS –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º –¥–æ–º–µ–Ω–∞** `kolibri-dresden.de`
   - –£ –≤–∞—à–µ–≥–æ —Ö–æ—Å—Ç–∏–Ω–≥-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –∏–ª–∏ DNS-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: Cloudflare, AWS Route53, Google Domains –∏ —Ç.–¥.)
2. **–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω OpenSSL** (–¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ DKIM –∫–ª—é—á–µ–π)
   - Windows: —Å–∫–∞—á–∞–π—Ç–µ —Å https://slproweb.com/products/Win32OpenSSL.html
   - macOS/Linux: –æ–±—ã—á–Ω–æ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

3. **Node.js** (–¥–ª—è –∑–∞–ø—É—Å–∫–∞ —É—Ç–∏–ª–∏—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ DNS)

---

## –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SPF

### –ß—Ç–æ —Ç–∞–∫–æ–µ SPF?

SPF-–∑–∞–ø–∏—Å—å —É–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ—á—Ç–æ–≤—ã–º —Å–µ—Ä–≤–µ—Ä–∞–º, –∫–∞–∫–∏–µ IP-–∞–¥—Ä–µ—Å–∞/—Å–µ—Ä–≤–µ—Ä—ã –∏–º–µ—é—Ç –ø—Ä–∞–≤–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ—á—Ç—É –æ—Ç –∏–º–µ–Ω–∏ –≤–∞—à–µ–≥–æ –¥–æ–º–µ–Ω–∞.

### –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

#### 1.1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é SPF-–∑–∞–ø–∏—Å—å

–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
nslookup -type=TXT kolibri-dresden.de
```

–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–Ω–ª–∞–π–Ω-—Å–µ—Ä–≤–∏—Å: https://mxtoolbox.com/SuperTool.aspx?action=spf%3akolibri-dresden.de

**–ò—â–∏—Ç–µ –∑–∞–ø–∏—Å—å —Ñ–æ—Ä–º–∞—Ç–∞:**

```
v=spf1 ... ~all
```

#### 1.2. –û–±–Ω–æ–≤–∏—Ç–µ/—Å–æ–∑–¥–∞–π—Ç–µ SPF-–∑–∞–ø–∏—Å—å

‚ö†Ô∏è **–í–ê–ñ–ù–û –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–æ—á—Ç—ã:**

–ï—Å–ª–∏ –¥–æ–º–µ–Ω `kolibri-dresden.de` —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–æ—á—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `info@kolibri-dresden.de`), —É –≤–∞—Å **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –µ—Å—Ç—å SPF-–∑–∞–ø–∏—Å—å**.

**–ù–ï —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –Ω–æ–≤—É—é SPF-–∑–∞–ø–∏—Å—å!** –£ –¥–æ–º–µ–Ω–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ SPF-–∑–∞–ø–∏—Å—å. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ **–¥–æ–ø–æ–ª–Ω–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é**, –¥–æ–±–∞–≤–∏–≤ `include:relay.mailchannels.net`.

##### –ï—Å–ª–∏ SPF-–∑–∞–ø–∏—Å—å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:

**–î–æ–±–∞–≤—å—Ç–µ** `include:relay.mailchannels.net` **–ü–ï–†–ï–î** `~all` –∏–ª–∏ `-all`:

**–ü—Ä–∏–º–µ—Ä (Google Workspace):**

```
–ë—ã–ª–æ:    v=spf1 include:_spf.google.com ~all
–°—Ç–∞–ª–æ:   v=spf1 include:_spf.google.com include:relay.mailchannels.net ~all
```

**–ü—Ä–∏–º–µ—Ä (Microsoft 365):**

```
–ë—ã–ª–æ:    v=spf1 include:spf.protection.outlook.com ~all
–°—Ç–∞–ª–æ:   v=spf1 include:spf.protection.outlook.com include:relay.mailchannels.net ~all
```

**–ü—Ä–∏–º–µ—Ä (–Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤):**

```
v=spf1 include:_spf.google.com include:mailgun.org include:relay.mailchannels.net ~all
```

##### –ï—Å–ª–∏ SPF-–∑–∞–ø–∏—Å–∏ –ù–ï–¢:

–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é TXT-–∑–∞–ø–∏—Å—å:

| –¢–∏–ø | –ò–º—è                      | –ó–Ω–∞—á–µ–Ω–∏–µ                                     | TTL  |
| --- | ------------------------ | -------------------------------------------- | ---- |
| TXT | @ –∏–ª–∏ kolibri-dresden.de | `v=spf1 include:relay.mailchannels.net ~all` | 3600 |

#### 1.3. –†–∞–∑–±–æ—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ SPF

- `v=spf1` - –≤–µ—Ä—Å–∏—è SPF
- `include:relay.mailchannels.net` - —Ä–∞–∑—Ä–µ—à–∏—Ç—å MailChannels –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ—á—Ç—É
- `~all` - "soft fail" (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –Ω–∞—á–∞–ª–∞; –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞ `-all` –¥–ª—è "hard fail")

### ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞

SPF-–∑–∞–ø–∏—Å—å —Å–æ–¥–µ—Ä–∂–∏—Ç `include:relay.mailchannels.net` –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∑–∞–≤–µ—Ä—à–∞—é—â–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä (`~all` –∏–ª–∏ `-all`).

---

## –®–∞–≥ 2: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ DKIM

### –ß—Ç–æ —Ç–∞–∫–æ–µ DKIM?

DKIM –¥–æ–±–∞–≤–ª—è–µ—Ç –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫—É—é –ø–æ–¥–ø–∏—Å—å –∫ –∫–∞–∂–¥–æ–º—É –ø–∏—Å—å–º—É. –ü–æ–ª—É—á–∞—Ç–µ–ª—å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–¥–ø–∏—Å—å –ø–æ –ø—É–±–ª–∏—á–Ω–æ–º—É –∫–ª—é—á—É –≤ DNS.

### –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

#### 2.1. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–∞—Ä—ã –∫–ª—é—á–µ–π (–ø—É–±–ª–∏—á–Ω—ã–π + –ø—Ä–∏–≤–∞—Ç–Ω—ã–π)

–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞ (2048 –±–∏—Ç)
openssl genrsa -out dkim_private.key 2048

# –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞
openssl rsa -in dkim_private.key -pubout -outform der 2>/dev/null | openssl base64 -A > dkim_public.txt
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**

- `dkim_private.key` - –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á (–ù–ï –ø—É–±–ª–∏–∫—É–π—Ç–µ! –•—Ä–∞–Ω–∏—Ç—å –≤ `.env`)
- `dkim_public.txt` - –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –≤ —Ñ–æ—Ä–º–∞—Ç–µ base64 (–¥–ª—è DNS)

#### 2.2. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞ –¥–ª—è .env

–ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ PEM **—Å —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –ø–µ—Ä–µ–Ω–æ—Å–∞–º–∏ —Å—Ç—Ä–æ–∫** (`\n`).

**PowerShell (Windows):**

```powershell
$key = Get-Content dkim_private.key -Raw
$key -replace "`r`n", "\n" -replace "`n", "\n"
```

**Bash (macOS/Linux):**

```bash
awk 'NF {sub(/\r/, ""); printf "%s\\n",$0;}' dkim_private.key
```

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –≤ `.env`:

```env
DKIM_DOMAIN=kolibri-dresden.de
DKIM_SELECTOR=mailchannels
DKIM_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nMIIEvgIBADANBgkqhkiG9w0BAQ...\n-----END PRIVATE KEY-----"
```

#### 2.3. –°–æ–∑–¥–∞–Ω–∏–µ DNS TXT-–∑–∞–ø–∏—Å–∏ –¥–ª—è DKIM

–ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á:

```bash
# Windows (PowerShell)
Get-Content dkim_public.txt

# macOS/Linux
cat dkim_public.txt
```

–°–æ–∑–¥–∞–π—Ç–µ TXT-–∑–∞–ø–∏—Å—å –≤ DNS:

| –¢–∏–ø | –ò–º—è                                                                        | –ó–Ω–∞—á–µ–Ω–∏–µ                                         | TTL  |
| --- | -------------------------------------------------------------------------- | ------------------------------------------------ | ---- |
| TXT | `mailchannels._domainkey` –∏–ª–∏ `mailchannels._domainkey.kolibri-dresden.de` | `v=DKIM1; k=rsa; p=<–°–û–î–ï–†–ñ–ò–ú–û–ï_dkim_public.txt>` | 3600 |

**–ü—Ä–∏–º–µ—Ä:**

```
mailchannels._domainkey.kolibri-dresden.de
  IN TXT "v=DKIM1; k=rsa; p=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAr..."
```

‚ö†Ô∏è **–í–ê–ñ–ù–û:**

- –°–µ–ª–µ–∫—Ç–æ—Ä `mailchannels` –¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å `DKIM_SELECTOR` –≤ `.env`
- –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π —Å–µ–ª–µ–∫—Ç–æ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä `k1`), –æ–±–Ω–æ–≤–∏—Ç–µ –≤–µ–∑–¥–µ: DNS-–∑–∞–ø–∏—Å—å (`k1._domainkey.kolibri-dresden.de`) –∏ `DKIM_SELECTOR=k1` –≤ `.env`

#### 2.4. –ü—Ä–æ–≤–µ—Ä–∫–∞ DKIM –≤ –∫–æ–¥–µ

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `src/lib/server/email/index.ts` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç DKIM:

```typescript
// –§—Ä–∞–≥–º–µ–Ω—Ç –∏–∑ src/lib/server/email/index.ts (—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
const dkimConfig = getDKIMConfig(env);
if (dkimConfig) {
	payload.personalizations[0].dkim_domain = dkimConfig.domain;
	payload.personalizations[0].dkim_selector = dkimConfig.selector;
	payload.personalizations[0].dkim_private_key = dkimConfig.privateKey;
}
```

–≠—Ç–æ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ! –ü—Ä–æ—Å—Ç–æ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `.env` –∑–∞–ø–æ–ª–Ω–µ–Ω—ã.

### ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞

- TXT-–∑–∞–ø–∏—Å—å `mailchannels._domainkey.kolibri-dresden.de` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á
- –í `.env` —É–∫–∞–∑–∞–Ω—ã `DKIM_DOMAIN`, `DKIM_SELECTOR` –∏ `DKIM_PRIVATE_KEY`

---

## –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DMARC

### –ß—Ç–æ —Ç–∞–∫–æ–µ DMARC?

DMARC - —ç—Ç–æ –ø–æ–ª–∏—Ç–∏–∫–∞, –∫–æ—Ç–æ—Ä–∞—è —É–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–ª—É—á–∞—Ç–µ–ª—è–º —á—Ç–æ –¥–µ–ª–∞—Ç—å —Å –ø–∏—Å—å–º–∞–º–∏, –Ω–µ –ø—Ä–æ—à–µ–¥—à–∏–º–∏ –ø—Ä–æ–≤–µ—Ä–∫—É SPF/DKIM:

- `p=none` - —Ç–æ–ª—å–∫–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –Ω–∞—á–∞–ª–∞)
- `p=quarantine` - –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ —Å–ø–∞–º
- `p=reject` - –æ—Ç–∫–ª–æ–Ω–∏—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é

### –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

#### 3.1. –°–æ–∑–¥–∞–Ω–∏–µ DMARC TXT-–∑–∞–ø–∏—Å–∏

–°–æ–∑–¥–∞–π—Ç–µ TXT-–∑–∞–ø–∏—Å—å –≤ DNS:

| –¢–∏–ø | –ò–º—è                                      | –ó–Ω–∞—á–µ–Ω–∏–µ                                                     | TTL  |
| --- | ---------------------------------------- | ------------------------------------------------------------ | ---- |
| TXT | `_dmarc` –∏–ª–∏ `_dmarc.kolibri-dresden.de` | `v=DMARC1; p=none; rua=mailto:postmaster@kolibri-dresden.de` | 3600 |

#### 3.2. –†–∞–∑–±–æ—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ DMARC

- `v=DMARC1` - –≤–µ—Ä—Å–∏—è DMARC
- `p=none` - –ø–æ–ª–∏—Ç–∏–∫–∞: –Ω–µ –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏–π (—Ç–æ–ª—å–∫–æ –æ—Ç—á—ë—Ç—ã)
- `rua=mailto:postmaster@kolibri-dresden.de` - –∞–¥—Ä–µ—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è aggregate reports

#### 3.3. –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ —É–∂–µ—Å—Ç–æ—á–µ–Ω–∏–µ –ø–æ–ª–∏—Ç–∏–∫–∏

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (1-2 –Ω–µ–¥–µ–ª–∏ —Å `p=none`) –º–æ–∂–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ –∫:

```
v=DMARC1; p=quarantine; pct=10; rua=mailto:postmaster@kolibri-dresden.de
```

- `p=quarantine` - –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∏—Å—å–º–∞ –≤ —Å–ø–∞–º
- `pct=10` - –ø—Ä–∏–º–µ–Ω—è—Ç—å –ø–æ–ª–∏—Ç–∏–∫—É –∫ 10% –ø–∏—Å–µ–º (–ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å –¥–æ 100%)

–§–∏–Ω–∞–ª—å–Ω–∞—è —Å—Ç—Ä–æ–≥–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞:

```
v=DMARC1; p=reject; rua=mailto:postmaster@kolibri-dresden.de
```

### ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞

TXT-–∑–∞–ø–∏—Å—å `_dmarc.kolibri-dresden.de` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤–∞–ª–∏–¥–Ω—É—é DMARC-–ø–æ–ª–∏—Ç–∏–∫—É.

---

## –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ DNS –∑–∞–ø–∏—Å–µ–π

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ —É—Ç–∏–ª–∏—Ç—É

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ DNS:

```bash
# –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–æ–≤–µ—Ä—è–µ—Ç DKIM —Å–µ–ª–µ–∫—Ç–æ—Ä 'mailchannels'
node scripts/check-dns.mjs kolibri-dresden.de

# –ò–ª–∏ —É–∫–∞–∂–∏—Ç–µ –¥—Ä—É–≥–æ–π —Å–µ–ª–µ–∫—Ç–æ—Ä (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –Ω–µ 'mailchannels')
node scripts/check-dns.mjs kolibri-dresden.de k1
```

**–£—Ç–∏–ª–∏—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç:**

- ‚úÖ –ù–∞–ª–∏—á–∏–µ SPF –∑–∞–ø–∏—Å–∏ —Å `include:relay.mailchannels.net`
- ‚úÖ –ù–∞–ª–∏—á–∏–µ DKIM –∑–∞–ø–∏—Å–∏ –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `mailchannels._domainkey.kolibri-dresden.de`)
- ‚úÖ –ù–∞–ª–∏—á–∏–µ DMARC –∑–∞–ø–∏—Å–∏ `_dmarc.kolibri-dresden.de`
- ‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—Å –≤—Å–µ—Ö –∑–∞–ø–∏—Å–µ–π

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**

```
üîç Checking DNS records for: kolibri-dresden.de

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üìã SPF Record
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
‚úÖ SPF record found
‚úÖ Contains include:relay.mailchannels.net
Record: v=spf1 include:relay.mailchannels.net ~all

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üîê DKIM Record (Selector: mailchannels)
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
‚úÖ DKIM record found
‚úÖ Valid DKIM format (v=DKIM1; k=rsa; p=...)
Record: v=DKIM1; k=rsa; p=MIIBIjANBg...

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üõ°Ô∏è DMARC Record
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
‚úÖ DMARC record found
‚úÖ Valid DMARC format
Policy: none
Report email: postmaster@kolibri-dresden.de
Record: v=DMARC1; p=none; rua=mailto:postmaster@kolibri-dresden.de

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
‚úÖ All DNS records are correctly configured!
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
```

### –†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –æ–Ω–ª–∞–π–Ω-—Å–µ—Ä–≤–∏—Å—ã

–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

- **MXToolbox:** https://mxtoolbox.com/SuperTool.aspx
  - SPF: `spf:kolibri-dresden.de`
  - DKIM: `dkim:mailchannels:kolibri-dresden.de`
  - DMARC: `dmarc:kolibri-dresden.de`

- **Google Admin Toolbox:** https://toolbox.googleapps.com/apps/checkmx/

- **DKIM Validator:** https://dkimvalidator.com/

### ‚è∞ –í—Ä–µ–º—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è DNS

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è/–∏–∑–º–µ–Ω–µ–Ω–∏—è DNS-–∑–∞–ø–∏—Å–µ–π –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –¥–æ **24-48 —á–∞—Å–æ–≤** –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è (TTL).

–î–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:

```bash
nslookup -type=TXT kolibri-dresden.de 8.8.8.8
```

(8.8.8.8 - Google DNS, —á–∞—Å—Ç–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ)

---

## –®–∞–≥ 5: –¢–µ—Å—Ç–æ–≤–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ email

### 5.1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:

- `.env` —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–≤–∫–ª—é—á–∞—è DKIM)
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç–æ (–ª–æ–∫–∞–ª—å–Ω–æ –∏–ª–∏ –Ω–∞ Cloudflare Workers)
- DNS-–∑–∞–ø–∏—Å–∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–∏–ª–∏—Å—å (–ø–æ–¥–æ–∂–¥–∏—Ç–µ –º–∏–Ω–∏–º—É–º 1 —á–∞—Å –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è)

### 5.2. –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–∏—Å—å–º–∞ —á–µ—Ä–µ–∑ API

#### Development mode (–ª–æ–∫–∞–ª—å–Ω–æ):

```bash
# –í .env –∑–∞–¥–∞–π—Ç–µ
SETUP_TOKEN=test-secret-123

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ dev —Å–µ—Ä–≤–µ—Ä
npm run dev
```

–û—Ç–ø—Ä–∞–≤—å—Ç–µ POST –∑–∞–ø—Ä–æ—Å:

```bash
curl -X POST http://localhost:5173/api/dev/test-email \
  -H "Content-Type: application/json" \
  -H "X-Setup-Token: test-secret-123" \
  -d '{
    "to": "your-test-email@gmail.com",
    "subject": "Test Email from Berufsorientierung",
    "text": "This is a test email to verify DNS configuration (SPF/DKIM/DMARC)."
  }'
```

#### Production mode (Cloudflare Workers):

```bash
curl -X POST https://your-app.workers.dev/api/dev/test-email \
  -H "Content-Type: application/json" \
  -H "X-Setup-Token: your-production-setup-token" \
  -d '{
    "to": "your-test-email@gmail.com",
    "subject": "Test Email from Berufsorientierung",
    "text": "This is a test email to verify DNS configuration (SPF/DKIM/DMARC)."
  }'
```

### 5.3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (—É—Å–ø–µ—Ö):**

```json
{
	"success": true,
	"message": "Test email sent successfully",
	"provider": "mailchannels",
	"to": "your-test-email@gmail.com"
}
```

**–û—à–∏–±–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:**

```json
{
	"success": false,
	"error": "Unauthorized: invalid or missing SETUP_TOKEN"
}
```

### 5.4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∏—Å—å–º–∞ –≤ –ø–æ—á—Ç–æ–≤–æ–º —è—â–∏–∫–µ

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ inbox** (–∏–ª–∏ spam/junk)
2. **–û—Ç–∫—Ä–æ–π—Ç–µ –ø–∏—Å—å–º–æ**
3. **–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (headers)**:
   - Gmail: —Ç—Ä–∏ —Ç–æ—á–∫–∏ ‚Üí "Show original"
   - Outlook: File ‚Üí Properties ‚Üí Internet headers

**–ò—â–∏—Ç–µ:**

```
Authentication-Results: ...
  spf=pass (google.com: domain of ...) ...
  dkim=pass header.i=@kolibri-dresden.de ...
  dmarc=pass ...
```

‚úÖ **–í—Å–µ —Ç—Ä–∏ (SPF, DKIM, DMARC) –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å `pass`!**

### 5.5. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥: Mail-Tester

–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–µ –ø–∏—Å—å–º–æ –Ω–∞ –∞–¥—Ä–µ—Å, —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å–æ–º:

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://www.mail-tester.com/
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ email –∞–¥—Ä–µ—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä: `test-abc123@srv1.mail-tester.com`)
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –ø–∏—Å—å–º–æ —á–µ—Ä–µ–∑ `/api/dev/test-email` –Ω–∞ —ç—Ç–æ—Ç –∞–¥—Ä–µ—Å
4. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É Mail-Tester –∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

**–¶–µ–ª—å:** –ø–æ–ª—É—á–∏—Ç—å –æ—Ü–µ–Ω–∫—É **10/10** üéØ

---

## –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º production —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è —É–±–µ–¥–∏—Ç–µ—Å—å:

### DNS Configuration

- [ ] **SPF:** TXT-–∑–∞–ø–∏—Å—å `@` —Å–æ–¥–µ—Ä–∂–∏—Ç `include:relay.mailchannels.net`
- [ ] **DKIM:** TXT-–∑–∞–ø–∏—Å—å `mailchannels._domainkey` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Å –ø—É–±–ª–∏—á–Ω—ã–º –∫–ª—é—á–æ–º
- [ ] **DMARC:** TXT-–∑–∞–ø–∏—Å—å `_dmarc` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (–º–∏–Ω–∏–º—É–º `p=none`)
- [ ] **DNS —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ:** –ø—Ä–æ—à–ª–æ –º–∏–Ω–∏–º—É–º 2 —á–∞—Å–∞ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–µ–π

### Environment Variables

- [ ] `JWT_SECRET` - —Å–ª—É—á–∞–π–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ ‚â•32 —Å–∏–º–≤–æ–ª–æ–≤
- [ ] `EMAIL_FROM` - `Berufsorientierung <Berufsorientierung@kolibri-dresden.de>`
- [ ] `EMAIL_REPLY_TO` - –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π reply-to –∞–¥—Ä–µ—Å
- [ ] `DKIM_DOMAIN` - `kolibri-dresden.de`
- [ ] `DKIM_SELECTOR` - `mailchannels` (–∏–ª–∏ –≤–∞—à –∫–∞—Å—Ç–æ–º–Ω—ã–π)
- [ ] `DKIM_PRIVATE_KEY` - PEM-—Ñ–æ—Ä–º–∞—Ç —Å `\n` (–º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã–π)
- [ ] `R2_PUBLIC_URL` - URL –≤–∞—à–µ–≥–æ R2 bucket
- [ ] `SETUP_TOKEN` - —Å–∏–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω –¥–ª—è `/api/dev/test-email` –∏ —Å–æ–∑–¥–∞–Ω–∏—è –ø–µ—Ä–≤–æ–≥–æ –∞–¥–º–∏–Ω–∞
- [ ] `CRON_SECRET` - —Ç–æ–∫–µ–Ω –¥–ª—è cron triggers

### Email Testing

- [ ] –¢–µ—Å—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏ —á–µ—Ä–µ–∑ `/api/dev/test-email` —É—Å–ø–µ—à–µ–Ω
- [ ] –ü–∏—Å—å–º–æ –ø–æ–ª—É—á–µ–Ω–æ –≤ inbox (–Ω–µ –≤ spam)
- [ ] SPF `pass` –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö –ø–∏—Å—å–º–∞
- [ ] DKIM `pass` –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö –ø–∏—Å—å–º–∞
- [ ] DMARC `pass` –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö –ø–∏—Å—å–º–∞
- [ ] Mail-Tester –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç ‚â•9/10

### Code & Documentation

- [ ] `src/lib/server/email/index.ts` –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç DKIM
- [ ] `.env.example` —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è `docs/features/email/` –∞–∫—Ç—É–∞–ª—å–Ω–∞
- [ ] `scripts/check-dns.mjs` —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## Troubleshooting

### ‚ùå –ü–∏—Å—å–º–∞ –ø–æ–ø–∞–¥–∞—é—Ç –≤ —Å–ø–∞–º

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**

1. **DNS –∑–∞–ø–∏—Å–∏ –Ω–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–∏–ª–∏—Å—å**
   - –ü–æ–¥–æ–∂–¥–∏—Ç–µ 24-48 —á–∞—Å–æ–≤
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á–µ—Ä–µ–∑ `nslookup` –∏–ª–∏ MXToolbox

2. **DKIM –ø–æ–¥–ø–∏—Å—å –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç**
   - –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `DKIM_PRIVATE_KEY` –≤ `.env` –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω (PEM —Å `\n`)
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Å–µ–ª–µ–∫—Ç–æ—Ä –≤ DNS —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å `DKIM_SELECTOR`
   - –ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤/–ø–µ—Ä–µ–Ω–æ—Å–æ–≤ —Å—Ç—Ä–æ–∫ –≤ –æ–¥–Ω—É –ª–∏–Ω–∏—é

3. **–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π SPF**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `include:relay.mailchannels.net` –∏–¥—ë—Ç –ü–ï–†–ï–î `~all`
   - –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ–ø–µ—á–∞—Ç–æ–∫ –≤ –¥–æ–º–µ–Ω–µ

4. **–ù–µ—Ç DMARC –∏–ª–∏ —Å—Ç—Ä–æ–≥–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞**
   - –ù–∞—á–Ω–∏—Ç–µ —Å `p=none` –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
   - –ü–æ—Å–ª–µ 1-2 –Ω–µ–¥–µ–ª—å –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ `p=quarantine`

5. **Reputation –¥–æ–º–µ–Ω–∞/IP**
   - –ù–æ–≤—ã–µ –¥–æ–º–µ–Ω—ã –º–æ–≥—É—Ç –∏–º–µ—Ç—å –Ω–∏–∑–∫–∏–π trust score
   - –û—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ –ø–∏—Å—å–º–∞ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ (–Ω–µ –º–∞—Å—Å–æ–≤—ã–µ —Ä–∞—Å—Å—ã–ª–∫–∏ —Å—Ä–∞–∑—É)
   - –°–ª–µ–¥–∏—Ç–µ –∑–∞ bounce rate –∏ spam complaints

### ‚ùå DKIM –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫—É

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**

```bash
# –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ DNS –∑–∞–ø–∏—Å—å
nslookup -type=TXT mailchannels._domainkey.kolibri-dresden.de

# –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ:
# v=DKIM1; k=rsa; p=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8A...
```

**–ï—Å–ª–∏ –∑–∞–ø–∏—Å–∏ –Ω–µ—Ç:**

- –°–æ–∑–¥–∞–π—Ç–µ TXT-–∑–∞–ø–∏—Å—å –ø–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤—ã—à–µ
- –ü–æ–¥–æ–∂–¥–∏—Ç–µ 1-2 —á–∞—Å–∞

**–ï—Å–ª–∏ –∑–∞–ø–∏—Å—å –µ—Å—Ç—å, –Ω–æ DKIM fail:**

- –°—Ä–∞–≤–Ω–∏—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –≤ DNS —Å —Ç–µ–º —á—Ç–æ –±—ã–ª —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á –≤ `.env` —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø—É–±–ª–∏—á–Ω–æ–º—É
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –Ω–µ—Ç –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤/—Å–∏–º–≤–æ–ª–æ–≤ –≤ DKIM_PRIVATE_KEY

### ‚ùå `/api/dev/test-email` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 401 Unauthorized

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–≤–µ—Ä–Ω—ã–π –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–π `X-Setup-Token` –∑–∞–≥–æ–ª–æ–≤–æ–∫.

**–†–µ—à–µ–Ω–∏–µ:**

1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `SETUP_TOKEN` –∑–∞–¥–∞–Ω –≤ `.env`
2. –ü–µ—Ä–µ–¥–∞–π—Ç–µ —Ç–æ–∫–µ–Ω –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ: `-H "X-Setup-Token: your-token-here"`

### ‚ùå Endpoint `/api/dev/test-email` –Ω–µ –Ω–∞–π–¥–µ–Ω (404)

**–ü—Ä–∏—á–∏–Ω–∞:** Endpoint —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ dev mode –∏–ª–∏ —Å `SETUP_TOKEN`.

**–†–µ—à–µ–Ω–∏–µ:**

- –õ–æ–∫–∞–ª—å–Ω–æ: `npm run dev`
- Production: endpoint –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `SETUP_TOKEN` –∑–∞–¥–∞–Ω –≤ Cloudflare Workers env

### ‚ùå MailChannels –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É 403/401

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**

1. **–ù–µ–≤–µ—Ä–Ω—ã–π DKIM –∫–ª—é—á**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç `DKIM_PRIVATE_KEY` (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å PEM —Å `\n`)

2. **–î–æ–º–µ–Ω –Ω–µ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω**
   - MailChannels –º–æ–∂–µ—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é –¥–æ–º–µ–Ω–∞
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é: https://mailchannels.zendesk.com/hc/en-us

3. **Rate limit**
   - –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –∑–∞ –∫–æ—Ä–æ—Ç–∫–æ–µ –≤—Ä–µ–º—è
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–∞—Ç—á–∏–Ω–≥ (`EMAIL_BULK_CHUNK` –∏ `EMAIL_BULK_PAUSE_MS`)

### ‚ö†Ô∏è –†–∞–±–æ—Ç–∞ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–æ—á—Ç–æ–π

**–í–æ–ø—Ä–æ—Å:** –£ –¥–æ–º–µ–Ω–∞ `kolibri-dresden.de` —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–æ—á—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `info@kolibri-dresden.de`). –ß—Ç–æ –¥–µ–ª–∞—Ç—å?

**–û—Ç–≤–µ—Ç:** –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DNS –±–µ–∑–æ–ø–∞—Å–Ω–∞, **–µ—Å–ª–∏ –¥–µ–ª–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ**:

#### –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (–Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –ø–æ—á—Ç—É):

‚úÖ **DKIM (—Å–µ–ª–µ–∫—Ç–æ—Ä `mailchannels._domainkey`)** - —Å–æ–∑–¥–∞—ë—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö DKIM-–∑–∞–ø–∏—Å–µ–π:

- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ DKIM: `google._domainkey`, `default._domainkey` –∏ —Ç.–¥.
- –ù–æ–≤—ã–π DKIM –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: `mailchannels._domainkey`
- –û–Ω–∏ **–Ω–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—Ç** –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º

‚úÖ **DMARC (`_dmarc`)** - –µ—Å–ª–∏ —Å–æ–∑–¥–∞—ë—Ç–µ —Å –ø–æ–ª–∏—Ç–∏–∫–æ–π `p=none`:

- –¢–æ–ª—å–∫–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥, –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–∏—Å—å–º–∞
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ –≤—Å–µ–º—É –¥–æ–º–µ–Ω—É (–∏ –∫ `info@`, –∏ –∫ `Berufsorientierung@`)

#### –î–µ–π—Å—Ç–≤–∏—è —Ç—Ä–µ–±—É—é—â–∏–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç–∏:

‚ö†Ô∏è **SPF** - —É –¥–æ–º–µ–Ω–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å **—Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞** SPF-–∑–∞–ø–∏—Å—å:

- **–ü–†–ê–í–ò–õ–¨–ù–û:** –î–æ–ø–æ–ª–Ω–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∑–∞–ø–∏—Å—å
  ```
  v=spf1 include:_spf.google.com include:relay.mailchannels.net ~all
  ```
- **–ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:** –°–æ–∑–¥–∞—Ç—å –≤—Ç–æ—Ä—É—é SPF-–∑–∞–ø–∏—Å—å (—Å–ª–æ–º–∞–µ—Ç –ø–æ—á—Ç—É!)
- **–ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:** –£–¥–∞–ª–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ `include:` (—Å–ª–æ–º–∞–µ—Ç –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—É—é –ø–æ—á—Ç—É!)

‚ö†Ô∏è **DMARC —Å —Å—Ç—Ä–æ–≥–æ–π –ø–æ–ª–∏—Ç–∏–∫–æ–π** (`p=quarantine` –∏–ª–∏ `p=reject`):

- –ï—Å–ª–∏ DMARC —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Å–æ —Å—Ç—Ä–æ–≥–æ–π –ø–æ–ª–∏—Ç–∏–∫–æ–π, –ø–∏—Å—å–º–∞ –æ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –º–æ–≥—É—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å—Å—è –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ DKIM/SPF
- **–†–µ—à–µ–Ω–∏–µ:** –í—Ä–µ–º–µ–Ω–Ω–æ —Å–º—è–≥—á–∏—Ç–µ –ø–æ–ª–∏—Ç–∏–∫—É –¥–æ `p=none` –Ω–∞ –≤—Ä–µ–º—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

#### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ—Ä—è–¥–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–∫—É—â–∏–µ DNS-–∑–∞–ø–∏—Å–∏:**

   ```bash
   nslookup -type=TXT kolibri-dresden.de
   nslookup -type=TXT _dmarc.kolibri-dresden.de
   ```

2. **–°–æ–∑–¥–∞–π—Ç–µ DKIM –¥–ª—è MailChannels** (–±–µ–∑–æ–ø–∞—Å–Ω–æ, –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –ø–æ—á—Ç—É)

3. **–û–±–Ω–æ–≤–∏—Ç–µ SPF** (–î–û–ë–ê–í–¨–¢–ï `include:relay.mailchannels.net`, –Ω–µ —É–¥–∞–ª—è–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ)

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ/—Å–æ–∑–¥–∞–π—Ç–µ DMARC** —Å –º—è–≥–∫–æ–π –ø–æ–ª–∏—Ç–∏–∫–æ–π (`p=none`)

5. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ:**
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ –ø–∏—Å—å–º–æ —á–µ—Ä–µ–∑ `/api/dev/test-email`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ SPF/DKIM/DMARC –ø—Ä–æ—Ö–æ–¥—è—Ç
   - **–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–æ—á—Ç–∞ (`info@`) –≤—Å—ë –µ—â—ë —Ä–∞–±–æ—Ç–∞–µ—Ç**

#### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ü–æ–¥–¥–æ–º–µ–Ω

–ï—Å–ª–∏ –±–æ–∏—Ç–µ—Å—å —á—Ç–æ-—Ç–æ —Å–ª–æ–º–∞—Ç—å, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–¥–¥–æ–º–µ–Ω:

**–ü—Ä–∏–º–µ—Ä:** `app.kolibri-dresden.de` –∏–ª–∏ `events.kolibri-dresden.de`

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

- ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ DNS-–∑–∞–ø–∏—Å–∏
- ‚úÖ –ú–æ–∂–Ω–æ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ
- ‚úÖ –ù–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—É—é –ø–æ—á—Ç—É

**–ù–µ–¥–æ—Å—Ç–∞—Ç–æ–∫:**

- Email –±—É–¥–µ—Ç –æ—Ç `Berufsorientierung@app.kolibri-dresden.de` –≤–º–µ—Å—Ç–æ `Berufsorientierung@kolibri-dresden.de`

### üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **MailChannels Documentation:** https://mailchannels.zendesk.com/hc/en-us
- **SPF Record Syntax:** https://www.rfc-editor.org/rfc/rfc7208.html
- **DKIM Specification:** https://www.rfc-editor.org/rfc/rfc6376.html
- **DMARC Guide:** https://dmarc.org/overview/
- **MXToolbox (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ DNS):** https://mxtoolbox.com/
- **Mail-Tester (–ø—Ä–æ–≤–µ—Ä–∫–∞ deliverability):** https://www.mail-tester.com/

---

## üéØ –ò—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤:

‚úÖ –í—Å–µ –ø–∏—Å—å–º–∞ –æ—Ç `Berufsorientierung@kolibri-dresden.de` –±—É–¥—É—Ç:

- –ü—Ä–æ—Ö–æ–¥–∏—Ç—å SPF/DKIM/DMARC –ø—Ä–æ–≤–µ—Ä–∫–∏
- –ü–æ–ø–∞–¥–∞—Ç—å –≤ inbox (–Ω–µ –≤ spam)
- –ò–º–µ—Ç—å –¥–æ–≤–µ—Ä–µ–Ω–Ω—É—é –ø–æ–¥–ø–∏—Å—å DKIM
- –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤ –∫–ª–∏–µ–Ω—Ç–∞—Ö (Gmail, Outlook –∏ —Ç.–¥.)

‚úÖ –í—ã —Å–º–æ–∂–µ—Ç–µ:

- –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å DMARC –æ—Ç—á—ë—Ç—ã (–Ω–∞ `postmaster@kolibri-dresden.de`)
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É —á–µ—Ä–µ–∑ `/api/dev/test-email`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å DNS —á–µ—Ä–µ–∑ `scripts/check-dns.mjs`
- –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —É–∂–µ—Å—Ç–æ—á–∞—Ç—å DMARC –ø–æ–ª–∏—Ç–∏–∫—É –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –∑–∞—â–∏—Ç—ã

**–ì–æ—Ç–æ–≤–æ –∫ production! üöÄ**
