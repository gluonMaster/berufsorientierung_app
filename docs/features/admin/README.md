# Admin Features - –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–Ω–µ–ª–∏ Berufsorientierung.

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞

### `/admin` - –ö–æ—Ä–µ–Ω—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

- **Layout**: `src/routes/admin/+layout.svelte`
- **Layout Server**: `src/routes/admin/+layout.server.ts`

**–ó–∞—â–∏—Ç–∞ –¥–æ—Å—Ç—É–ø–∞**: middleware `requireAdmin()` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç JWT —Ç–æ–∫–µ–Ω –∏ –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.

## üìä –°—Ç—Ä–∞–Ω–∏—Ü—ã

### [Dashboard](./DASHBOARD.md) - `/admin`

–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –æ–±–∑–æ—Ä–æ–º —Å–∏—Å—Ç–µ–º—ã:

- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** (4 –∫–∞—Ä—Ç–æ—á–∫–∏):
  - –í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - –ê–∫—Ç–∏–≤–Ω—ã–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è
  - –ü—Ä–µ–¥—Å—Ç–æ—è—â–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
  - –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —É–¥–∞–ª–µ–Ω–∏—è

- **–¢–∞–±–ª–∏—Ü–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏**: –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 –¥–µ–π—Å—Ç–≤–∏–π

**–§–∞–π–ª—ã**:

- `src/routes/admin/+page.server.ts` - –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- `src/routes/admin/+page.svelte` - UI

---

## üé® UI/UX –ø—Ä–∏–Ω—Ü–∏–ø—ã

### –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å (Mobile-First)

- **Sidebar**:
  - Mobile: –≤—ã–¥–≤–∏–∂–Ω–æ–µ –º–µ–Ω—é (overlay)
  - Desktop (‚â•768px): —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –±–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å

- **–¢–∞–±–ª–∏—Ü—ã**:
  - Mobile: –∫–∞—Ä—Ç–æ—á–∫–∏ —Å `data-label`
  - Desktop: –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ —Ç–∞–±–ª–∏—Ü—ã

- **–ö–∞—Ä—Ç–æ—á–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏**:
  - Mobile: 1 –∫–æ–ª–æ–Ω–∫–∞
  - Tablet (‚â•640px): 2 –∫–æ–ª–æ–Ω–∫–∏
  - Desktop (‚â•1024px): 4 –∫–æ–ª–æ–Ω–∫–∏

### –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞

- **–ö–∞—Ä—Ç–æ—á–∫–∏**: –±–µ–ª—ã–π —Ñ–æ–Ω, —Ü–≤–µ—Ç–Ω—ã–µ –ª–µ–≤—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã
- **–ò–∫–æ–Ω–∫–∏**: —Ü–≤–µ—Ç–Ω—ã–µ –Ω–∞ —Å–≤–µ—Ç–ª–æ–º —Ñ–æ–Ω–µ
- **–ê–∫—Ü–µ–Ω—Ç—ã**:
  - –°–∏–Ω–∏–π (#3b82f6) - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
  - –ó–µ–ª—ë–Ω—ã–π (#10b981) - –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è
  - –§–∏–æ–ª–µ—Ç–æ–≤—ã–π (#8b5cf6) - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
  - –û—Ä–∞–Ω–∂–µ–≤—ã–π (#f59e0b) - —É–¥–∞–ª–µ–Ω–∏—è

### –ù–∞–≤–∏–≥–∞—Ü–∏—è

**Sidebar –º–µ–Ω—é**:

1. Dashboard
2. –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è (Events)
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (Users)
4. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (Registrations)
5. –†–∞—Å—Å—ã–ª–∫–∞ (Newsletter)
6. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (Stats)
7. –õ–æ–≥–∏ (Logs)

**Footer**:

- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–∫—É—â–µ–º –∞–¥–º–∏–Ω–µ
- –ö–Ω–æ–ø–∫–∞ –≤—ã—Ö–æ–¥–∞

---

## üåê –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å

–í—Å–µ —Ç–µ–∫—Å—Ç—ã –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã –Ω–∞ 4 —è–∑—ã–∫–∞:

- üá©üá™ –ù–µ–º–µ—Ü–∫–∏–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- üá¨üáß –ê–Ω–≥–ª–∏–π—Å–∫–∏–π
- üá∑üá∫ –†—É—Å—Å–∫–∏–π
- üá∫üá¶ –£–∫—Ä–∞–∏–Ω—Å–∫–∏–π

**–ö–ª—é—á–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤**: `admin.*` –≤ `static/translations/{lang}.json`

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤

**`+layout.server.ts`**:

```typescript
const user = await requireAdmin(request, db, jwtSecret);
```

–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:

- –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω (401) ‚Üí —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/` —Å `error=login_required`
- –ù–µ –∞–¥–º–∏–Ω (403) ‚Üí —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/` —Å `error=admin_access_required`

### CSRF –∑–∞—â–∏—Ç–∞

–í—Å–µ —Ñ–æ—Ä–º—ã –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ –¥–æ–ª–∂–Ω—ã –≤–∫–ª—é—á–∞—Ç—å CSRF —Ç–æ–∫–µ–Ω:

```svelte
<input type="hidden" name="csrf_token" value={data.csrfToken} />
```

---

## üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### DB –º–æ–¥—É–ª–∏

- `DB.users.*` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- `DB.events.*` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è–º–∏
- `DB.registrations.*` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è–º–∏
- `DB.admin.*` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏
- `DB.activityLog.*` - –∂—É—Ä–Ω–∞–ª –¥–µ–π—Å—Ç–≤–∏–π
- `DB.gdpr.*` - GDPR –æ–ø–µ—Ä–∞—Ü–∏–∏

### UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

- `lucide-svelte` - –∏–∫–æ–Ω–∫–∏
- `svelte-i18n` - –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å

---

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã

1. –°–æ–∑–¥–∞—Ç—å `src/routes/admin/{page}/+page.svelte`
2. –°–æ–∑–¥–∞—Ç—å `src/routes/admin/{page}/+page.server.ts` (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
3. –î–æ–±–∞–≤–∏—Ç—å –ø—É–Ω–∫—Ç –≤ `navItems` –≤ `+layout.svelte`
4. –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥—ã –≤ `static/translations/{lang}.json`

### –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

```svelte
<script lang="ts">
	import { _ } from 'svelte-i18n';
	import type { PageData } from './$types';

	export let data: PageData;
</script>

<div class="page-container">
	<h1>{$_('admin.{page}.title')}</h1>
	<!-- –ö–æ–Ω—Ç–µ–Ω—Ç -->
</div>

<style>
	.page-container {
		max-width: 1400px;
		margin: 0 auto;
	}
</style>
```

---

## üìö –î–æ—Å—Ç—É–ø–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [DASHBOARD.md](./DASHBOARD.md) - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–¥–º–∏–Ω–∫–∏

---

[‚Üê –ù–∞–∑–∞–¥ –∫ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—É](../README.md)
