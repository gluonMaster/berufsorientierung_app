# Admin Dashboard

## –û–ø–∏—Å–∞–Ω–∏–µ

–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ —Å –æ–±–∑–æ—Ä–æ–º –∫–ª—é—á–µ–≤–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Å–∏—Å—Ç–µ–º—ã –∏ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

## –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤

- **Server Load**: `src/routes/admin/+page.server.ts`
- **UI Component**: `src/routes/admin/+page.svelte`

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### üìä –ö–∞—Ä—Ç–æ—á–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (2x2 Grid)

–ß–µ—Ç—ã—Ä–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Å –∫–ª—é—á–µ–≤—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏:

1. **–í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** (`totalUsers`)
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö (–Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö) –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   - –ò–∫–æ–Ω–∫–∞: Users (—Å–∏–Ω–∏–π —Ü–≤–µ—Ç)

2. **–ê–∫—Ç–∏–≤–Ω—ã–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è** (`activeEvents`)
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `active`
   - –ò–∫–æ–Ω–∫–∞: Calendar (–∑–µ–ª—ë–Ω—ã–π —Ü–≤–µ—Ç)

3. **–ü—Ä–µ–¥—Å—Ç–æ—è—â–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏** (`upcomingRegistrations`)
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π –Ω–∞ –±—É–¥—É—â–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è
   - –ò–∫–æ–Ω–∫–∞: ClipboardCheck (—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π —Ü–≤–µ—Ç)

4. **–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —É–¥–∞–ª–µ–Ω–∏—è** (`scheduledDeletions`)
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫–∫–∞—É–Ω—Ç–æ–≤, –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫ —É–¥–∞–ª–µ–Ω–∏—é
   - –ò–∫–æ–Ω–∫–∞: Trash2 (–æ—Ä–∞–Ω–∂–µ–≤—ã–π —Ü–≤–µ—Ç)

### üìã –¢–∞–±–ª–∏—Ü–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π

–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 –¥–µ–π—Å—Ç–≤–∏–π –≤ —Å–∏—Å—Ç–µ–º–µ:

- **–ö–æ–ª–æ–Ω–∫–∏**:
  - –í—Ä–µ–º—è (—Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –ø–æ –ª–æ–∫–∞–ª–∏)
  - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–∏–º—è + email, –∏–ª–∏ "–°–∏—Å—Ç–µ–º–∞" –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π)
  - –î–µ–π—Å—Ç–≤–∏–µ (–ø–µ—Ä–µ–≤–µ–¥—ë–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–∏–ø–∞ –¥–µ–π—Å—Ç–≤–∏—è)
  - IP-–∞–¥—Ä–µ—Å

- **–°—Å—ã–ª–∫–∞**: "–°–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –ª–æ–≥–∏" ‚Üí `/admin/logs`

## Server Load (`+page.server.ts`)

### –§—É–Ω–∫—Ü–∏—è `load()`

–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç:

1. –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö)
2. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π
3. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏—Ö —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π
4. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —É–¥–∞–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ `DB.gdpr.getScheduledDeletions()`
5. –ü–æ—Å–ª–µ–¥–Ω–∏–µ 10 –¥–µ–π—Å—Ç–≤–∏–π —á–µ—Ä–µ–∑ `DB.activityLog.getRecentActivity()`

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø**: `DashboardData`

```typescript
{
  stats: DashboardStats;
  recentActivity: ActivityLogWithUser[];
}
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ (–≤—Å–µ —Å—á—ë—Ç—á–∏–∫–∏ = 0, –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ –ª–æ–≥–æ–≤).

## UI Component (`+page.svelte`)

### –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å (Mobile-First)

**–ö–∞—Ä—Ç–æ—á–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏**:

- Mobile: 1 –∫–æ–ª–æ–Ω–∫–∞ (—Å—Ç–µ–∫)
- Tablet (‚â•640px): 2 –∫–æ–ª–æ–Ω–∫–∏
- Desktop (‚â•1024px): 4 –∫–æ–ª–æ–Ω–∫–∏

**–¢–∞–±–ª–∏—Ü–∞ –ª–æ–≥–æ–≤**:

- Desktop: –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è —Ç–∞–±–ª–∏—Ü–∞
- Mobile (‚â§767px): –∫–∞—Ä—Ç–æ—á–∫–∏ —Å `data-label` –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏

### –§—É–Ω–∫—Ü–∏–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

#### `formatDateTime(timestamp: string)`

–§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç ISO timestamp –≤ –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç—ã/–≤—Ä–µ–º–µ–Ω–∏:

```
05.11.2025, 14:30
```

#### `formatActionType(actionType: string)`

–ü–µ—Ä–µ–≤–æ–¥–∏—Ç —Ç–∏–ø –¥–µ–π—Å—Ç–≤–∏—è —á–µ—Ä–µ–∑ –∫–ª—é—á `admin.activityLog.actions.{actionType}`:

```typescript
'user_register' ‚Üí 'Benutzerregistrierung' (de)
```

### –°—Ç–∏–ª–∏

- **–ö–∞—Ä—Ç–æ—á–∫–∏**: –±–µ–ª—ã–π —Ñ–æ–Ω, –º—è–≥–∫–∏–µ —Ç–µ–Ω–∏, hover —ç—Ñ—Ñ–µ–∫—Ç (–ø–æ–¥–Ω—è—Ç–∏–µ –≤–≤–µ—Ä—Ö)
- **–¶–≤–µ—Ç–æ–≤—ã–µ –∞–∫—Ü–µ–Ω—Ç—ã**: –ª–µ–≤–∞—è –≥—Ä–∞–Ω–∏—Ü–∞ (4px) + —Ü–≤–µ—Ç–Ω–∞—è –∏–∫–æ–Ω–∫–∞ –Ω–∞ —Ñ–æ–Ω–µ
- **–¢–∞–±–ª–∏—Ü–∞**: —á–µ—Ä–µ–¥—É—é—â–∏–µ—Å—è —Å—Ç—Ä–æ–∫–∏, hover –ø–æ–¥—Å–≤–µ—Ç–∫–∞
- **Badges**: –¥–ª—è –≤—Ä–µ–º–µ–Ω–∏ –∏ –¥–µ–π—Å—Ç–≤–∏–π

## –ü–µ—Ä–µ–≤–æ–¥—ã

### –ö–ª—é—á–∏ –≤ `static/translations/{lang}.json`

```json
{
	"admin": {
		"dashboard": {
			"title": "Dashboard",
			"subtitle": "√úbersicht √ºber das System",
			"stats": {
				"totalUsers": "Gesamte Benutzer",
				"activeEvents": "Aktive Veranstaltungen",
				"upcomingRegistrations": "Anstehende Anmeldungen",
				"scheduledDeletions": "Geplante L√∂schungen"
			},
			"recentActivity": {
				"title": "Letzte Aktivit√§ten",
				"viewAll": "Alle Protokolle anzeigen",
				"empty": "Noch keine Aktivit√§ten aufgezeichnet",
				"system": "System",
				"table": {
					"time": "Zeit",
					"user": "Benutzer",
					"action": "Aktion",
					"ip": "IP-Adresse"
				}
			}
		},
		"activityLog": {
			"actions": {
				"user_register": "Benutzerregistrierung",
				"user_login": "Benutzeranmeldung"
				// ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã –¥–µ–π—Å—Ç–≤–∏–π
			}
		}
	}
}
```

–ü–µ—Ä–µ–≤–æ–¥—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–ª—è –≤—Å–µ—Ö 4 —è–∑—ã–∫–æ–≤: **de, en, ru, uk**.

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### DB –º–æ–¥—É–ª–∏

- `DB.users.*` - –¥–ª—è –ø–æ–¥—Å—á—ë—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `DB.events.*` - –¥–ª—è –ø–æ–¥—Å—á—ë—Ç–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π
- `DB.registrations.*` - –¥–ª—è –ø–æ–¥—Å—á—ë—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π
- `DB.activityLog.getRecentActivity()` - –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ª–æ–≥–æ–≤
- `DB.gdpr.getScheduledDeletions()` - –¥–ª—è –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —É–¥–∞–ª–µ–Ω–∏–π

### UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (lucide-svelte)

- `Users`, `Calendar`, `ClipboardCheck`, `Trash2` - –∏–∫–æ–Ω–∫–∏ –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫
- `Clock` - –∏–∫–æ–Ω–∫–∞ –¥–ª—è –ø—É—Å—Ç–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

### –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏

- `svelte-i18n` - –¥–ª—è –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç–∏

## –î–æ—Å—Ç—É–ø

Dashboard –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ `+layout.server.ts` —á–µ—Ä–µ–∑ middleware `requireAdmin()`.

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

1. –í—Å–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è **–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ** (Promise.all) –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
2. –ü—Ä–∏ –æ—à–∏–±–∫–µ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ **–Ω–µ –ø–∞–¥–∞–µ—Ç**, –∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω—É–ª–µ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
3. –ü—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–∫–æ–Ω–∫—É —á–∞—Å–æ–≤ –∏ —Å–æ–æ–±—â–µ–Ω–∏–µ
4. –ù–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö —Ç–∞–±–ª–∏—Ü–∞ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –≤ –∫–∞—Ä—Ç–æ—á–∫–∏ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —á—Ç–µ–Ω–∏—è
5. –í—Å–µ —Ç–µ–∫—Å—Ç—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã –Ω–∞ 4 —è–∑—ã–∫–∞

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

Dashboard –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –°–ª–µ–¥—É—é—â–∏–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã:

- **–ü—Ä–æ–º–ø—Ç 9.3**: –ê–¥–º–∏–Ω - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è–º–∏ (`/admin/events`)
- **–ü—Ä–æ–º–ø—Ç 9.4**: –ê–¥–º–∏–Ω - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (`/admin/users`)
- **–ü—Ä–æ–º–ø—Ç 9.5**: –ê–¥–º–∏–Ω - –ñ—É—Ä–Ω–∞–ª –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (`/admin/logs`)
